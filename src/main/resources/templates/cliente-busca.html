<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org"
      layout:decorate="~{layout}">
    <body>
        <div layout:fragment="content">
            <form id="form" method="get" th:object="${searchFilter}" th:action="@{/cliente/search}">
                <input id="searchType" type="hidden" th:field="*{searchType}" />
                <input id="categoriaId" type="hidden" th:field="*{categoriaId}" />
                <div>
                    <h1>É hora de rangar!</h1>
                    <fieldset id="fieldsetFiltros">
                        <input type="text" th:field="*{texto}" placeholder="Busca por..."/>
                        <input type="button" value="Procurar" onclick="searchRest(null);"/>
                    </fieldset>
                </div>
                <br/>

                <div id="divCategoriasComidaGeral">
                    <div id="divCategoriasComidaOpcao" th:each="categoria : ${categorias}">
                        <a href="#" th:onclick="'searchRest(' + ${categoria.id} + ');'">
                            <img th:src="@{/images/categoria/} + ${categoria.imagem}" id="imgCategoriaComida" /><br/>
                            <br/>
                            <span th:text="${categoria.nome}"></span>
                        </a>
                    </div>
                </div>

                <div>
                    <h1>Resultados</h1>
                    <fieldset>
                        <legend>Filtros</legend>
                        <input type="button" value="Entrega grátis"/><br/>
                        <input type="button" value="Maior preço"/><input type="button" value="Menor preço"/><br/>
                        <input type="button" value="Maior taxa"/><input type="button" value="Menor taxa"/><br/>
                        <input type="button" value="Maior tempo"/><input type="button" value="Menor tempo"
                                                                         id="inputSelecionado"/><br/>
                    </fieldset>
                </div>
            </form>

            <br/><br/>
            <div id="divRestauranteGeral">
                <div id="divRestauranteOpcao" th:each="restaurante : ${restaurantes}">
                    <a href="#">
                        <img th:src="@{/images/logotipo/} + ${restaurante.logotipo}" id="imgRestauranteOpcao"/><br/>
                        <span th:text="${restaurante.nome}" id="restauranteOpcaoTitulo"></span><br/>
                        <span th:text="${restaurante.categoriasAsText}"></span><br/>
                        <span th:text="'Tempo médio de entrega: ' + ${restaurante.tempoEntregaBase} + 'm'"></span><br/>
                        <span th:text="'Taxa de entrega: ' + ${#numbers.formatCurrency(restaurante.taxaEntrega)}"></span><br/>
                    </a>
                    <br/><br/>
                </div>
            </div>

            <div th:if="${restaurantes.size() == 0}">
                <span>Nenhum restaurante encontrado</span>
            </div>
            <br/>
            <input type="button" value="Voltar" th:onclick="'location.href=\'' + @{/cliente/home} + '\';'"/>
        </div>
    </body>
</html>